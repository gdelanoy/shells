#!/bin/bash

# encfs /mnt/donnees/nuages/mega/Safe/ /home/guillaume/safe-in-cloud/

encfs /home/guillaume/Dropbox/Safe/ /home/guillaume/safe-in-cloud/

read -p "Veux-tu aussi ouvrir ta tirelire ? " yn
    case $yn in
        [YyOo]* ) /home/guillaume/.shells/bin/tirelire 2>/dev/null ;;
        [Nn]* ) echo "OK. bye."; df -h | grep safe | lolcat; exit 0 ;;
        * ) echo "RÃ©ponds par oui ou par non s'il te plaÃ®t...";;
    esac
echo "Pendant que tu y est, tu veux aussi ouvrir les partages sur Syno ? "
read syn0
#
synolecteurs(){
    sshfs -o reconnect,ServerAliveInterval=15,ServerAliveCountMax=3 guillaume@syno:/MesDocs /mnt/syno/MesDocs -o allow_other
    sshfs -o reconnect,ServerAliveInterval=15,ServerAliveCountMax=3 guillaume@syno:/musique /mnt/syno/musique -o allow_other
    sshfs -o reconnect,ServerAliveInterval=15,ServerAliveCountMax=3 guillaume@syno:/IT /mnt/syno/IT -o allow_other
    sshfs -o reconnect,ServerAliveInterval=15,ServerAliveCountMax=3 guillaume@syno:/offsite /mnt/syno/offsite -o allow_other

# echo $syn0 |grep -i {y,e,s,o,oui} && synolecteurs || echo "OK. bye."


synodort(){
wakeonlan 00:11:32:31:0A:54
echo "On dirait que syno est arrÃªtÃ©, je vais te le rÃ©veiller moi ðŸ’¤ ... (2min.) ... ðŸ’¤"
for i in {1..150}; do
printf '...ðŸ’¤%.0s' {1..$i}
echo ""
sleep 1
done
    sshfs -o reconnect,ServerAliveInterval=15,ServerAliveCountMax=3 guillaume@syno:/MesDocs /mnt/syno/MesDocs -o allow_other
    sshfs -o reconnect,ServerAliveInterval=15,ServerAliveCountMax=3 guillaume@syno:/musique /mnt/syno/musique -o allow_other
    sshfs -o reconnect,ServerAliveInterval=15,ServerAliveCountMax=3 guillaume@syno:/IT /mnt/syno/IT -o allow_other
    sshfs -o reconnect,ServerAliveInterval=15,ServerAliveCountMax=3 guillaume@syno:/offsite /mnt/syno/offsite -o allow_other
clear
    df -h | grep syno | lolcat
    }

echo $syn0 > /dev/null |grep -i {y,e,s,o,oui} && (synolecteurs || synodort) || echo "OK. bye."

# aping -c3 syno >/dev/null 2>/dev/null && synolecteurs || synodort

